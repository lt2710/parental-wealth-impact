---
title: "Childrens' education attainment and parental wealth"
subtitle: "Impact of parental resources on living standard potential in China"
author: "Langyi Tian, Columbia University"
date: "Aug 2019"
output:
  xaringan::moon_reader:
    css: ["default", "default-fonts", "custom_Xaringan.css"]
    lib_dir: libs
    nature:
      ratio: 16:9
      highlightStyle: github
      highlightLines: true
      countIncrementalSlides: false
---      
exclude: true

class: left, top
background-image: url(images/roadmap.png)
background-size: 100%
background-position: 50% 280%

###Setup
```{r setup, include=FALSE}
#Set up default knitr chunk options
library("knitr")
knitr::opts_chunk$set(
  echo = FALSE,
  eval = TRUE,
  message = FALSE,
  warning = FALSE,
  fig.height = 9,
  fig.width = 15,
  fig.align = "center",
  cache = TRUE,
  cache.lazy = FALSE
)
options(htmltools.dir.version = FALSE)
```  

```{r theme-map, include=FALSE}
#set up theme map
theme_simplemap <- function(base_size = 9,
                            base_family = "") {
  theme_bw(base_size = base_size, base_family = base_family) %+replace%
    theme(
      axis.line = element_blank(),
      axis.text = element_blank(),
      axis.ticks = element_blank(),
      axis.title = element_blank(),
      panel.background = element_blank(),
      panel.border = element_blank(),
      panel.grid = element_blank(),
      panel.spacing = unit(0, "lines"),
      plot.background = element_blank(),
      legend.position = "none"
    )
}
```

```{r packages, message = FALSE, warning = FALSE, echo=FALSE}
# Load packages.
packages <- c(
  "tidyr",
  "dplyr",
  "GGally",
  "stringr",
  "purrr",
  "readstata13",
  "data.table",
  "knitr",
  "ggplot2",
  "bit64",
  "forcats",
  "tidyverse",
  "ordinal",
  "jtools",
  "quantreg",
  "TraMineR",
  "MASS"
)
packages <- lapply(
  packages,
  FUN = function(x) {
    if (!require(x, character.only = TRUE)) {
      install.packages(x)
      library(x, character.only = TRUE)
    }
  }
)
```

```{r set up working directory, echo=FALSE, warning=FALSE}
#setwd("C:/Users/Administrator/Documents/GitHub/parental-wealth-impact")
Sys.setlocale("LC_TIME", "C")#Set to debug date transformation
Sys.setenv(TZ="Europe/Berlin")
select <- dplyr::select
```

```{r filter and select final data,echo=TRUE, warning=FALSE}
load("output/merged_charls.RData")
load("output/seq_hukou.RData")
load("output/seq_work.RData")
load("output/kmeans_hukou_3.RData")
load("output/kmeans_work_4.RData")
```

# Data sources
 - Chinese Health and Retirement Longitudinal Survey (CHARLS)
 - Nationally representative sample of Chinese residents ages 45 and above
 - Parent are respondents
 - Children information comes from parent's interview (children are not interviewed)

#Comparison
CHARLS
 - Rich data in father's education, occupation, income and household registration status over time through Life-history survey
 - Home value only include the current residing home

##dta_lm_parent and dta_lm_child
```{r}
dta_lm_child <-
  merged_charls %>% filter(
    urban_child %in% c(
      "3 Main City Zone"
    ),!independence_child %in% c(
      "1 This Household, And Economicly Dependent",
      "2 This Household, But Economicly Independent"
    ),
    age_child > 25,
    age_child < 45
  )%>%mutate(asset_fin=asset_fin/10000,
             asset_durable_fixed=asset_durable_fixed/10000,
             asset_land=asset_land/10000,
             home=(dta_lm_child$asset_fin==0)%>%as.numeric(),
             fin=(dta_lm_child$asset_fin==0)%>%as.numeric(),
             land=(dta_lm_child$asset_land==0)%>%as.numeric(),
             durable=(dta_lm_child$asset_durable_fixed==0)%>%as.numeric())
#code negative financial asset to zero
dta_lm_child$asset_fin[dta_lm_child$asset_fin<0]<-0

dta_lm_child$onlychild[dta_lm_child$onlychild == "first child"] <-
  "later child"
dta_lm_child$home_child <-
  (dta_lm_child$home_child %>% as.numeric() * -1 + 3) %>% factor(levels = c(1, 2),
                                                                 labels = c("No",
                                                                            "Yes"))
#Code occupation
dta_lm_child$mgt <- NA
dta_lm_child$mgt[dta_lm_child$jobcat_child %in%c ("5 Professionals and Technicians",
                                                  "6 State, social and enterprise managers")] <-
  1
dta_lm_child$mgt[is.na(dta_lm_child$mgt) == TRUE] <- 0
dta_lm_child$mgt<-dta_lm_child$mgt%>%factor(levels = c(0,1),
                                            labels = c("Non-manager",
                                                       "Managerial elites"))
```


##parental net worth
```{r}
lm_pa <- lm(
  (net_worth_real+1)%>%log() ~
    #children
    role+
    address+
    age+
    hukou +
    party +
    education_years +
    job+
    rank
  ,
  data = dta_lm_child%>%select(id,
                               net_worth_real,
                               role,
                               address,
                               age,
                               hukou,
                               party,
                               education_years,
                               job,
                               rank)%>%unique())
lm_pa%>%summary()
```



##Child education
```{r}

lm_edu1 <- lm(
  education_years_child ~
    #children
    tier_child +
    age_child +
    gender_child +
    onlychild +
    #father
    education_years +
    party +
    hukou +
    home+
    job+rank+
    (net_worth_real + 1)%>% log()
  #Transfers
  #marriagehome_child
  #transfer_child+
  ,
  data = dta_lm_child
)

lm_edu2 <- lm(
  education_years_child ~
    #children
    tier_child +
    age_child +
    gender_child +
    onlychild +
    #father
    education_years +
    party +
    hukou +
    job+rank+
    home+
    (homevalue + 1) %>% log()+
    (asset_fin + asset_land + asset_durable_fixed + 1) %>% log()
  #Transfers
  #marriagehome_child
  #transfer_child+
  ,
  data = dta_lm_child 
)
 
export_summs( 
  lm_edu1,
  #lm_edu2,
  error_pos = "same",
  model.names = c(
    "all cities"
  ),
  coefs = c(
    "Child: Age (years)" = "age_child",
    "Tier 2 cities (base: tier 1)" = "tier_childtier2",
    "Tier 3 cities (base: tier 1)" = "tier_childtier3",
    "Tier 4 cities (base: tier 1)" = "tier_childtier4",
    "Male (base: female)" = "gender_childMale",
    "Only child (base: multiple children family)" =
      "onlychildonly child",
    "Father: years of schooling (unit: year)" =
      "education_years",
    "Party membership (base: non-party member)" =
      "partyParty member",
    "Non-agriculrural hukou (base: agricultural)" =
      "hukou1 urban hukou",
    "Job: Private sector (base: agriculture)" =
      "job2 Private",
    "State Controlled Firm" =
      "job3 State Controlled Firm",
    "Public institution" =
      "job4 Public institution",
    "Government" =
      "job5 Government",
    "Ranking: Low rank cadre (base: worker)" =
      "rank2 low rank cadre",
    "High rank cadre" =
      "rank3 high rank cadre",
    "Missing" =
      "rankmissing",
    "Parental wealth total" = 
      "(net_worth_real + 1) %>% log()",
    "No home"="home"
    #"Parental asset: home (logged)" =
    #  "(homevalue + 1) %>% log()",
    #"Parental Non housing asset" =
    #  "(asset_fin + asset_land + asset_durable_fixed + 1) %>% log()"
  ),
  to.file = "Word",
  file.name = "output/education_child_by_city_tier.docx"
)
```

##Child income regression

```{r}
lm_inc0a <- lm(
  (income_child+50)%>%log() ~
    #children
    tier_child +
    age_child +
    gender_child+
    onlychild +
    marriage_child +
    #hukou_child+
    #party_child +
    #mgt+
    #education_years_child +
    #father
    hukou +
    party +
    education_years +
    job+rank +
    #home+
    #(net_worth_real + 1) %>% log()+
    hukou:hukou_child
  ,
  data = dta_lm_child
  )

lm_inc1a <- lm(
  (income_child+50)%>%log() ~
    #children
    tier_child +
    age_child +
    gender_child+
    onlychild +
    #marriage_child +
    #hukou_child+
    #party_child +
    #education_years_child +
    #mgt+
    #father
    hukou +
    party +
    education_years +
    job+rank +
    home+
    (net_worth_real + 1) %>% log()
  ,
  data = dta_lm_child
  )

lm_inc2a <- lm(
  (income_child+50)%>%log() ~
    #children
    tier_child +
    age_child +
    gender_child+
    onlychild +
    marriage_child +
    hukou_child+
    party_child +
    mgt+
    education_years_child +
    #father
    hukou +
    party +
    education_years +
    job+rank +
    home+
    (net_worth_real + 1) %>% log()+
    hukou:hukou_child
  ,
  data = dta_lm_child
  )
lm_inc3a <- lm(
  (income_child+50)%>%log() ~
    #children
    tier_child +
    age_child +
    gender_child+
    onlychild +
    marriage_child +
    hukou_child+
    party_child +
    mgt+
    education_years_child +
    #father
    hukou +
    party +
    education_years +
    job+rank +
    home+
    (homevalue + 1) %>% log()+
    (asset_fin + asset_land + asset_durable_fixed + 1) %>% log()+
    hukou:hukou_child
  ,
  data = dta_lm_child
  )
export_summs(#lm_inc0a,
             #lm_inc1a,
             lm_inc2a,
             #lm_inc3a,
             error_pos = "same",
             to.file = "Word",
               coefs = c(
    "Child: Age (years)" = "age_child",
    "Tier 2 cities (base: tier 1)" = "tier_childtier2",
    "Tier 3 cities (base: tier 1)" = "tier_childtier3",
    "Tier 4 cities (base: tier 1)" = "tier_childtier4",
    "Male (base: female)" = "gender_childMale",
    "Only child (base: multiple children family)" =
      "onlychildonly child",
    "Married (based: unmarried)" = 
      "marriage_childMarried",
    "Years of education" = 
      "education_years_child",
    "Non-agricultural hukou (base: agricultural hukou)" = 
      "hukou_child2 Non-Agricultural Hukou",
    "Party member (base: non-party member)" = 
      "party_childParty member",
    "Managerial elites (state/private sector)" = 
      "mgtManagerial elites",
    "Father: years of schooling (unit: year)" =
      "education_years",
    "Party membership (base: non-party member)" =
      "partyParty member",
    "Non-agriculrural hukou (base: agricultural)" =
      "hukou1 urban hukou",
    "Job: Private sector (base: agriculture)" =
      "job2 Private",
    "State Controlled Firm" =
      "job3 State Controlled Firm",
    "Public institution" =
      "job4 Public institution",
    "Government" =
      "job5 Government",
    "Ranking: Low rank cadre (base: worker)" =
      "rank2 low rank cadre",
    "High rank cadre" =
      "rank3 high rank cadre",
    "Missing" =
      "rankmissing",
    "Parental asset total" =
      "(net_worth_real + 1) %>% log()",
    "No home"="home"
    #"Parental asset: home (logged, sd=42)" =
    #  "(homevalue + 1) %>% log()",
    #"Parental Non housing asset" =
    #  "(asset_fin + asset_land + asset_durable_fixed + 1) %>% log()"
  ),
             file.name = "output/income_child_different_models.docx")
```

#Children home ownership regression
###marriage transfer
```{r}
dta_lm_child$a <- NA
dta_lm_child$a[dta_lm_child$marriagehome_child == "Parent buy marriage home"] <-
  1
dta_lm_child$a[dta_lm_child$marriagehome_child == "No marriage home"] <-
  0
glm_pa1 <- glm(
  a ~
    #children
    age_child +
    gender_child +
    onlychild +
    hukou +
    home + 
    (net_worth_real + 1) %>% log()
  ,
  data = dta_lm_child,
  family = binomial(link = "logit")
)

glm_pa2 <- glm(
  a ~
    #children
    age_child +
    gender_child +
    onlychild +
    #father
    education_years +
    job + rank +
    hukou +
    party +
    home + 
    (net_worth_real + 1) %>% log()
    ,
  data = dta_lm_child,
  family = binomial(link = "logit")
)

export_summs(glm_pa1,
             #glm_pa2,
             error_pos = "same")
```

###ownership
```{r}
glm_0 <- glm(
  home_child ~
    #children
    tier_child +
    age_child +
    gender_child +
    onlychild +
    marriage_child +
    #education_years_child +
    #hukou_child +
    #party_child +
    #mgt +
    #(income_child+50)%>%log() +
    #father
    education_years +
    job+rank +
    hukou +
    party 
    #(net_worth_real + 1) %>% log()+
    #Transfers 
    #hukou:hukou_child
  ,
  data = dta_lm_child%>%filter(marriagehome_child=="No marriage home"),
  family = binomial(link = "logit")
)

glm_1 <- glm(
  home_child ~
    #children
    tier_child +
    age_child +
    gender_child +
    onlychild +
    marriage_child +
    education_years_child +
    hukou_child +
    party_child +
    #mgt +
    #(income_child+50)%>%log() +
    #father
    education_years +
    job+rank +
    hukou +
    party +
    home+
    (net_worth_real + 1) %>% log()+
    hukou:hukou_child
  ,
  data = dta_lm_child%>%filter(marriagehome_child=="No marriage home"),
  family = binomial(link = "logit")
)

glm_2 <- glm(
  home_child ~
    #children
    tier_child +
    age_child +
    gender_child +
    onlychild +
    marriage_child +
    education_years_child +
    hukou_child +
    party_child +
    mgt +
    (income_child+50)%>%log() +
    #father
    education_years +
    job+rank +
    hukou +
    party +
    home+
    (net_worth_real + 1) %>% log()+
    hukou:hukou_child
  ,
  data = dta_lm_child%>%filter(marriagehome_child=="No marriage home"),
  family = binomial(link = "logit")
)


export_summs(
  glm_0,
  glm_1,
  glm_2,
  error_pos = "same",
             to.file = "Word",
               coefs = c(
    "Child: Age (years)" = "age_child",
    "Tier 2 cities (base: tier 1)" = "tier_childtier2",
    "Tier 3 cities (base: tier 1)" = "tier_childtier3",
    "Tier 4 cities (base: tier 1)" = "tier_childtier4",
    "Male (base: female)" = "gender_childMale",
    "Only child (base: multiple children family)" =
      "onlychildonly child",
    "Married (based: unmarried)" = 
      "marriage_childMarried",
    "Non-agricultural hukou (base: agricultural hukou)" = 
      "hukou_child2 Non-Agricultural Hukou",
    "Party member (base: non-party member)" = 
      "party_childParty member",
    "Managerial elites (state/private sector)" = 
      "mgtManagerial elites",
    "Income (logged)" = 
      "(income_child + 50) %>% log()",
    "Years of education" = 
      "education_years_child",
    "Father: years of schooling (unit: year)" =
      "education_years",
    "Party membership (base: non-party member)" =
      "partyParty member",
    "Non-agriculrural hukou (base: agricultural)" =
      "hukou1 urban hukou",
    "Job: Private sector (base: agriculture)" =
      "job2 Private",
    "State Controlled Firm" =
      "job3 State Controlled Firm",
    "Public institution" =
      "job4 Public institution",
    "Government" =
      "job5 Government",
    "Ranking: Low rank cadre (base: worker)" =
      "rank2 low rank cadre",
    "High rank cadre" =
      "rank3 high rank cadre",
    "Missing" =
      "rankmissing",
    "Parental net worth total"=
      "(net_worth_real + 1) %>% log()",
    "No home"="home"
    #"Parental asset: home (logged, sd=42)" =
    #  "(homevalue + 1) %>% log()",
    #"Parental Non housing asset" =
    #  "(asset_fin + asset_land + asset_durable_fixed + 1) %>% log()"
  ),
  file.name = "output/homeownership_child_by_city_tier.docx"
)
```


##Child homevalue
```{r} 
lm_00 <- lm(
  (homevalue_child + 1)%>%log() ~
    #children
    tier_child +
    age_child +
    gender_child +
    onlychild +
    marriage_child +
    #education_years_child +
    #hukou_child +
    #party_child +
    #mgt +
    #(income_child+50)%>%log() +
    #father
    education_years +
    job+rank +
    hukou+
    party 
    #hukou:hukou_child+
    #(net_worth_real + 1) %>% log()
  ,
  data = dta_lm_child %>% filter(homevalue_child > 0)
)

lm_0 <- lm(
  (homevalue_child + 1)%>%log() ~
    #children
    tier_child +
    age_child +
    gender_child +
    onlychild +
    marriage_child +
    #education_years_child +
    #hukou_child +
    #party_child +
    #mgt +
    #(income_child+50)%>%log() +
    #father
    education_years +
    job+rank +
    hukou+
    party +
    #hukou:hukou_child+
    (net_worth_real + 1) %>% log()
  ,
  data = dta_lm_child %>% filter(homevalue_child > 0)
)

lm_1 <- lm(
  (homevalue_child + 1)%>%log() ~
    #children
    tier_child +
    age_child +
    gender_child +
    onlychild +
    marriage_child +
    #education_years_child +
    hukou_child +
    party_child +
    #mgt +
    #(income_child+50)%>%log() +
    #father
    education_years +
    job+rank +
    hukou+
    party +
    hukou:hukou_child+
    (net_worth_real + 1) %>% log()
  ,
  data = dta_lm_child %>% filter(homevalue_child > 0)
)

lm_1.5 <- lm(
  (homevalue_child + 1)%>%log() ~
    #children
    tier_child +
    age_child +
    gender_child +
    onlychild +
    marriage_child +
    education_years_child +
    hukou_child +
    party_child +
    #mgt +
    #(income_child+50)%>%log() +
    #father
    education_years +
    job+rank +
    hukou+
    party +
    hukou:hukou_child+
    (net_worth_real + 1) %>% log()
  ,
  data = dta_lm_child %>% filter(homevalue_child > 0)
)

lm_2 <- lm(
  (homevalue_child + 1)%>%log() ~
    #children
    tier_child +
    age_child +
    gender_child +
    onlychild +
    marriage_child +
    education_years_child +
    hukou_child +
    party_child +
    mgt +
    (income_child+50)%>%log() +
    #father
    education_years +
    job+rank +
    hukou+
    party + 
    (net_worth_real + 1) %>% log()+
    hukou:hukou_child
  ,
  data = dta_lm_child %>% filter(homevalue_child > 0)
)

lm_3 <- lm(
  (homevalue_child + 1)%>%log() ~
    #children
    tier_child +
    age_child +
    gender_child +
    onlychild +
    marriage_child +
    education_years_child +
    hukou_child +
    party_child +
    mgt +
    (income_child+50)%>%log() +
    #father
    education_years +
    job+rank +
    hukou +
    party +
    (homevalue + 1) %>% log()+
    #fin+
    (asset_fin + asset_land + asset_durable_fixed + 1) %>% log()+
    #Transfers
    marriagehome_child+
    hukou:hukou_child
  ,
  data = dta_lm_child %>% filter(homevalue_child > 0)
)

export_summs(lm_00,
             lm_0,
             lm_1,
             lm_1.5,
             lm_2,
             #lm_3,
             error_pos = "same",
             to.file = "Word",
               coefs = c(
    "Child: Age (years)" = "age_child",
    "Tier 2 cities (base: tier 1)" = "tier_childtier2",
    "Tier 3 cities (base: tier 1)" = "tier_childtier3",
    "Tier 4 cities (base: tier 1)" = "tier_childtier4",
    "Male (base: female)" = "gender_childMale",
    "Only child (base: multiple children family)" =
      "onlychildonly child",
    "Married (based: unmarried)" = 
      "marriage_childMarried",
    "Non-agricultural hukou (base: agricultural hukou)" = 
      "hukou_child2 Non-Agricultural Hukou",
    "Party member (base: non-party member)" = 
      "party_childParty member",
    "Years of education" = 
      "education_years_child",
    "Income (logged)" = 
      "(income_child + 50) %>% log()",
    "Managerial elites (state/private sector)" = 
      "mgtManagerial elites",
    "Father: years of schooling (unit: year)" =
      "education_years",
    "Party membership (base: non-party member)" =
      "partyParty member",
    "Non-agriculrural hukou (base: agricultural)" =
      "hukou1 urban hukou",
    "Job: Private sector (base: agriculture)" =
      "job2 Private",
    "State Controlled Firm" =
      "job3 State Controlled Firm",
    "Public institution" =
      "job4 Public institution",
    "Government" =
      "job5 Government",
    "Ranking: Low rank cadre (base: worker)" =
      "rank2 low rank cadre",
    "High rank cadre" =
      "rank3 high rank cadre",
    "Missing" =
      "rankmissing",
    "Parental asset total"=
      "(net_worth_real + 1) %>% log()"
    #"Parental asset: home (logged, sd=42)" =
    #  "(homevalue + 1) %>% log()",
    #"Parental non housing asset"=
    #  "(asset_fin + asset_land + asset_durable_fixed + 1) %>% log()",
    #"Gifted home upon marriage (base: no gifted home)" =
    #  "marriagehome_childParent buy marriage home"
  ),
             file.name = "output/homevalue_child_by_city_tier.docx")
```


---
##Landscape of wealth studies
 - Wealth studies have moved from its "infancy" to "adolescence" since 2000
 
 - Extensively studied in advanced societies (U.S., Sweden, Denmark, etc.) and developing socities with high degree of privatization and marketization (Chile, Mexico, India, etc.)
 
 - Studies portrayed wealth's consequence (educational, occupational attainment, home ownership, etc.), process of wealth accumulations, ascribed traits as wealth determinants, etc.

##China as a new observatory
 - Post-socialist trajectory: double-digit economic boom and skyrocketing economic inequality
 
 - Initial wave of wealth inequality and absence of gift/inheritance taxation
 
 - Radical marketization and privatization of public welfare in housing, education, etc.
 
 - The returns to capital start to exceed those to labor and capital is more mobile than labor

???
China has its private wealth rose from around 100% of national income in 1978 to over 450% of national income in 2014, reaching a level close to that in France, the United States, and the UK

---
##The impact of parental resources on children's living standard potential in Chinese society
 - Indirect impact: education attainment as a proxy of human capital for labor market return
 
 - Direct impact: home ownership and housing wealth as a proxy of stock economic resources


---
##Data
 - The China Health and Retirement Longitudinal Study (CHARLS), conducted by China Center for Economic Research at Peking University
 
 - A nationally representative social survey on adults over 45 years old
 
 - Variables construced from information in 2013, 2014, 2015 wave

 - Constructed child-father pairs of respondents and their children
 
 - Focal point on children residing in city zone and rural-urban fringe
 
 - Excluding children with dependence on parental household (co-residence or financial reliance on parents)

---
##Profile of parents and children generation (mean and sd)
.pull-left[
Children
 - Average birth year 1980 (sd 6.7)
 
 - Years of schooling 10.6 (4.1) yrs
 
 - 8% only child
 
 - 92% married
 
 - 53% with urban hukou
 
 - 15% with party membership
 
 - 65% owns home
 
 - Home value medians 320k among home owners
]

.pull-right[
Fathers
 - Average birth year 1951 (sd 8.6) yrs old
 
 - Years of schooling 7.7 (4.1) yrs
 
 - 35% residing in urban area, among whom 36% hold urban hukou
 
 - 7% with party membership
 
 - 81% owns residing home
 
 - With different household registration/hukou and occupational trajectories
 
 - Averaging Â¥170k, housing asset as majority
]

---
##Father trajectory of hukou/household registration
```{r, fig.height = 7}
seqplot(
  seq_hukou,
  group = kmeans_hukou_3$cluster,
  type = "I",
  axes = "all",
  weighted = TRUE,
  main = c(
    "Transition to non-agricultural hukou at mid age",
    "Agricultural hukou",
    "Non-agricultural hukou"
  ),
  cpal = c("darkolivegreen1", "cornflowerblue"),
  ylab = "Frequency",
  yaxis = TRUE,
  use.layout = TRUE,
  with.legend = FALSE,
  cols = 2,
  border = NA,
  space = 0
)
```
 - Categories from K-means clustering of optimal matching sequences 
 
---
##Father trajectory of occupation
```{r, fig.height = 7}
seqplot(
  seq_work,
  group = kmeans_work_4$cluster,
  #sortv=apply(work_small,1,function(x){return(sum(is.na(x),
  #                                                 na.rm = FALSE))}),
  type = "I",
  axes = "all",
  weighted = TRUE,
  main = c(
    "Agricultural employment",
    "Government, public institution, SOE/within-the-system employment",
    "Private sector/outside-the-system employment",
    "Mixed occupational trajectory"
  ),
  cpal = c("darkolivegreen1", "cornflowerblue", "coral"),
  ylab = "Frequency",
  yaxis = TRUE,
  with.legend = FALSE,
  use.layout = TRUE,
  cols = 2,
  border = NA,
  space = 0
)
```
 - Categories from K-means clustering of optimal matching sequences 

---
##Education in China since reform
 - Diploma credentials are crucial for labor market performance
 
 - Universal primary and secondary education (9 yrs) basically achieved
 
 - Radical expansion, privatization and stratification of tertiary education since 1999
 
 - Evidence supporting Maximally Maintained Inequality (MMI) thesis
 
---
```{r}
jtools::plot_summs(
  lm_edu1,
  lm_edu2,
  lm_edu3,
  lm_edu4,
  coefs = c(
    "Child: Age (years)" = "age_child",
    "Male (base: female)" = "gender_childMale",
    "Only child (base: multiple children family)" =
      "onlychildonly child",
    "Father: years of schooling (unit: year)" =
      "education_years",
    "Parental asset: home (logged)" =
      "(homevalue + 1) %>% log()",
    "Parental asset: fin (logged)" =
      "(asset_fin + 1) %>% log()",
    "Parental asset: durable and fixed (logged)" =
      "(asset_durable_fixed + 1) %>% log()",
    "Parental asset: land (logged)" =
      "(asset_land + 1) %>% log()"
  ),
  legend.title = "Model",
  ci_level = 0.95,
  colors = "Set1",
  point.shape = FALSE,
  model.names = c(
    "All cities",
    "Tier 1/2",
    "Tier 3",
    "Tier 4"
  )
) +
  ggtitle("Parental resource effect on years of schooling completed",
          subtitle = "Chinese urban residents age 25-50, 2015") +
  xlab("Additive OLS estimate with 95% confidence level (years)") +
  ylab("") +
  labs(caption = "Omitted control for child age") +
  theme_classic() +
  theme(text = element_text(size = 20)) +
  theme(legend.position = "bottom")
```

---
##Linkage between wealth and education
 - Different compositions of impact at different positions in wealth distribution
 
 - Insurance mechanism: wealth mitigates the risks involved in decisions about specific educational transitions
 
 - Purchasing mechanism: purchase of educational goods/services


---
##Thoughts and forward
 - Higher stock of net worth from parents positively mediate educational attainment of offspring controling other cultural, occupational and institutional advantages
 
 - Parental economic resources become more pronouncing, translating to indirect advantage of educational attainment for further building of better life chance and living standard, undermining education's role in facilitating equity and mobility

 - The impact might expand if the opportunity structure in Chinese society continue to increasingly rewards more for human capital and economic power (while less for political capital and institutional advantage)
 
 - Such transmission might constitute part of a chain from the political/institutional advantage at parental generation to the converted economic power, then to the persistence of it in the offpsring

 - The mechanism is embedded in the process of China's macro-structural social transformation in the past decades, which would reveal how the priviledged manage to pass on their resources





